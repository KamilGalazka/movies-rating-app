(function(){"use strict";var t={6259:function(t,e,n){var r=n(9242),i=n(3396);function o(t,e,n,r,o,a){const s=(0,i.up)("the-header"),l=(0,i.up)("the-form"),u=(0,i.up)("movies-list");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(s),(0,i.Wm)(l),(0,i.Wm)(u)],64)}const a=t=>((0,i.dD)("data-v-33fa42d8"),t=t(),(0,i.Cn)(),t),s=a((()=>(0,i._)("h1",null,"movies ranking",-1))),l=[s];function u(t,e){return(0,i.wg)(),(0,i.iD)("header",null,l)}var d=n(89);const c={},p=(0,d.Z)(c,[["render",u],["__scopeId","data-v-33fa42d8"]]);var h=p;const v=t=>((0,i.dD)("data-v-043e2c86"),t=t(),(0,i.Cn)(),t),f={class:"form-container"},m=v((()=>(0,i._)("label",{for:"title"},"Title:",-1))),y=v((()=>(0,i._)("label",{for:"director"},"Director:",-1))),w=v((()=>(0,i._)("label",{for:"year"},"Year:",-1))),g=v((()=>(0,i._)("label",{for:"rate"},"Rate (1 to 5):",-1))),b={key:0},_=v((()=>(0,i._)("input",{type:"submit",value:"Submit",class:"button-input"},null,-1)));function L(t,e,n,o,a,s){return(0,i.wg)(),(0,i.iD)("div",f,[(0,i._)("form",{onSubmit:e[8]||(e[8]=(0,r.iM)(((...t)=>s.saveForm&&s.saveForm(...t)),["prevent"]))},[(0,i._)("div",null,[m,(0,i.wy)((0,i._)("input",{type:"text",name:"title",class:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.title=t)},null,512),[[r.nr,a.title]])]),(0,i._)("div",null,[y,(0,i.wy)((0,i._)("input",{type:"text",name:"director",class:"text","onUpdate:modelValue":e[1]||(e[1]=t=>a.director=t)},null,512),[[r.nr,a.director]])]),(0,i._)("div",null,[w,(0,i.wy)((0,i._)("input",{type:"number",name:"year",class:"text","onUpdate:modelValue":e[2]||(e[2]=t=>a.year=t)},null,512),[[r.nr,a.year]])]),(0,i._)("div",null,[g,(0,i.wy)((0,i._)("input",{type:"radio",name:"rate",value:"1","onUpdate:modelValue":e[3]||(e[3]=t=>a.rate=t)},null,512),[[r.G2,a.rate]]),(0,i.wy)((0,i._)("input",{type:"radio",name:"rate",value:"2","onUpdate:modelValue":e[4]||(e[4]=t=>a.rate=t)},null,512),[[r.G2,a.rate]]),(0,i.wy)((0,i._)("input",{type:"radio",name:"rate",value:"3","onUpdate:modelValue":e[5]||(e[5]=t=>a.rate=t)},null,512),[[r.G2,a.rate]]),(0,i.wy)((0,i._)("input",{type:"radio",name:"rate",value:"4","onUpdate:modelValue":e[6]||(e[6]=t=>a.rate=t)},null,512),[[r.G2,a.rate]]),(0,i.wy)((0,i._)("input",{type:"radio",name:"rate",value:"5","onUpdate:modelValue":e[7]||(e[7]=t=>a.rate=t)},null,512),[[r.G2,a.rate]])]),a.isInvalid?((0,i.wg)(),(0,i.iD)("p",b,"Something is missing!")):(0,i.kq)("",!0),_],32)])}var k={name:"TheForm",data(){return{movies:[],title:"",director:"",year:null,rate:null,isInvalid:!1}},methods:{saveForm(){""===this.title||""===this.director||null===this.year||null===this.rate?this.isInvalid=!0:(this.isInvalid=!1,fetch("https://vue-films-db-default-rtdb.firebaseio.com/moviesList.json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.title,director:this.director,year:this.year,rate:this.rate})}).then((t=>{t.ok?console.log("OK"):console.log("NOT OK")})),this.title="",this.director="",this.year="",this.rate="")}}};const O=(0,d.Z)(k,[["render",L],["__scopeId","data-v-043e2c86"]]);var I=O,D=n(7139);const j={key:0},U={key:2},x={key:3};function F(t,e,n,r,o,a){const s=(0,i.up)("movie-rate");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("button",{onClick:e[0]||(e[0]=(...t)=>a.showListFun&&a.showListFun(...t))},(0,D.zw)(o.showList?"HIDE":"SHOW")+" list",1),o.dataIsLoading?((0,i.wg)(),(0,i.iD)("p",j,"Loading...")):(0,i.kq)("",!0),o.showList&&!o.dataIsLoading?((0,i.wg)(),(0,i.iD)("button",{key:1,onClick:e[1]||(e[1]=(...t)=>a.updateList&&a.updateList(...t))}," refresh ")):(0,i.kq)("",!0),o.showList&&0===o.movies.length&&!o.dataIsLoading?((0,i.wg)(),(0,i.iD)("p",U," No stored movies ratings. Please start adding something. ")):o.showList&&!o.dataIsLoading&&0!==o.movies.length?((0,i.wg)(),(0,i.iD)("ul",x,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.movies,(t=>((0,i.wg)(),(0,i.j4)(s,{key:t.id,title:t.title,director:t.director,year:t.year,rate:t.rate},null,8,["title","director","year","rate"])))),128))])):(0,i.kq)("",!0)])}const T={class:"title"},V={class:"rate"};function C(t,e,n,r,o,a){return(0,i.wg)(),(0,i.iD)("p",null,[(0,i._)("span",T,(0,D.zw)(n.title),1),(0,i.Uk)(" directed by "+(0,D.zw)(n.director)+" from "+(0,D.zw)(n.year)+" was rated with ",1),(0,i._)("span",V,(0,D.zw)(n.rate),1),(0,i.Uk)(" "+(0,D.zw)(n.rate>1?"points":"point")+". ",1)])}var z={props:["title","director","year","rate"]};const S=(0,d.Z)(z,[["render",C],["__scopeId","data-v-94b03cec"]]);var G=S,H={components:{MovieRate:G},data(){return{movies:[],showList:!1,dataIsLoading:!1}},methods:{updateList(){this.dataIsLoading=!0,fetch("https://vue-films-db-default-rtdb.firebaseio.com/moviesList.json").then((t=>{if(t.ok)return t.json()})).then((t=>{this.dataIsLoading=!1;const e=[];for(const n in t)e.push({id:n,title:t[n].title,director:t[n].director,year:t[n].year,rate:t[n].rate});this.movies=e}))},showListFun(){this.showList||this.updateList(),this.showList=!this.showList}}};const Z=(0,d.Z)(H,[["render",F],["__scopeId","data-v-2d8c2662"]]);var q=Z,M={components:{TheHeader:h,TheForm:I,MoviesList:q}};const P=(0,d.Z)(M,[["render",o]]);var W=P;(0,r.ri)(W).mount("#app")}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,r,i,o){if(!r){var a=1/0;for(d=0;d<t.length;d++){r=t[d][0],i=t[d][1],o=t[d][2];for(var s=!0,l=0;l<r.length;l++)(!1&o||a>=o)&&Object.keys(n.O).every((function(t){return n.O[t](r[l])}))?r.splice(l--,1):(s=!1,o<a&&(a=o));if(s){t.splice(d--,1);var u=i();void 0!==u&&(e=u)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[r,i,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,o,a=r[0],s=r[1],l=r[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)var d=l(n)}for(e&&e(r);u<a.length;u++)o=a[u],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(d)},r=self["webpackChunkvue_db"]=self["webpackChunkvue_db"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(6259)}));r=n.O(r)})();
//# sourceMappingURL=app.57069c0e.js.map